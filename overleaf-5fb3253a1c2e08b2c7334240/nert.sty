% NERT lab (http://nert.georgetown.edu/) stylesheet
% 
% Created by Nathan Schneider
% 
% This is to be used in combination with a venue-specific stylesheet 
% (such as for the ACL conference). Read the venue's formatting instructions 
% to be sure your submission complies.
\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{nert}
  [2019/10/26 v0.01 NERT recommended defaults and macros for papers]

\usepackage{relsize} % relative font sizes (e.g. \smaller). must precede ACL style

%\usepackage[colorlinks=true,linkcolor=black,citecolor=black,filecolor=black,urlcolor=black]{hyperref}
%\usepackage{natbib}

\usepackage{times}
\usepackage{latexsym}

%\usepackage[a-1b]{pdfx}   % for PDF/A-1b

%\hypersetup{colorlinks=true,linkcolor=black,citecolor=black,filecolor=black,urlcolor=black}

\usepackage{microtype}
\usepackage{ dsfont }
\usepackage[boxed]{algorithm2e}
\renewcommand\AlCapFnt{\small}

\usepackage{sidecap} % side captions
\usepackage{rotating}	% sideways
% \usepackage[pdftex]{graphicx}

% in-paragraph enumerations
\usepackage{paralist}

% Italicize subparagraph headings
\usepackage{titlesec}
\titleformat*{\subparagraph}{\itshape}
\titlespacing{\subparagraph}{%
  1em}{%              left margin
  0pt}{% space before (vertical)
  1em}%               space after (horizontal)

% Email macros
\newcommand{\emldisplay}[2]{\texttt{\href{mailto:#1}{#2}}}
\newcommand{\eml}[1]{\emldisplay{#1}{#1}}


% Lists
\usepackage[shortlabels]{enumitem} % customizable lists
\setitemize{noitemsep,topsep=0em} %leftmargin=1em,iciteposstemindent=-1em
\setenumerate{noitemsep,leftmargin=1em,itemindent=13pt,topsep=0em}

\usepackage{xspace}
\usepackage{xparse} % for fancy custom macros (\NewDocumentEnvironment, etc.)

\newcommand{\indicator}[1]{I_{\{#1\}}} %{\mathds{1}_{\{#1\}}}


\usepackage{textcomp}
% \usepackage{arabtex} % must go after xparse, if xparse is used!
%\usepackage{utf8}
% \setcode{utf8} % use UTF-8 Arabic
% \newcommand{\Ar}[1]{\RL{\novocalize #1}} % Arabic text

\usepackage{framed}

\usepackage{listings}

% \lstset{
%   basicstyle=\itshape,
%   xleftmargin=3em,
%   aboveskip=0pt,
%   belowskip=-3pt, %-.5\baselineskip, % correct for extra paragraph break inserted after listing
%   literate={->}{$\rightarrow$}{2}
%            {α}{$\alpha$}{1}
%            {δ}{$\delta$}{1}
%            {(}{$($}{1}
%            {)}{$)$}{1}
%            {[}{$[$}{1}
%            {]}{$]$}{1}
%            {|}{$|$}{1}
%            {+}{\ensuremath{^+}}{1}
%            {*}{\ensuremath{^*}}{1}
% }

\usepackage{amssymb}	%amsfonts,eucal,amsbsy,amsthm,amsopn
\usepackage{amsmath}

\usepackage{pifont}
\newcommand{\chk}{\ding{51}} % checkmark
\newcommand{\xxx}{\textcolor{mdred}{\ding{55}}} % X mark
\usepackage{bbding} % \HandRight
\newcommand{\manicule}{\raisebox{-3pt}{\HandRight}\xspace}

\usepackage{mathptmx}	% txfonts
\usepackage[scaled=.8]{beramono}
\usepackage[scaled=.85]{helvet}
\usepackage[T1]{fontenc}
\usepackage[utf8x]{inputenc}

\usepackage{MnSymbol}	% must be after mathptmx

\usepackage{latexsym}




% Tables
\usepackage{array}
\usepackage{multirow}
\usepackage{booktabs} % pretty tables
\usepackage{multicol}
\newcolumntype{H}{>{\setbox0=\hbox\bgroup}c<{\egroup}@{}} % hidden column
\usepackage{supertabular} % tabular substitute that wraps across columns/pages (longtable doesn't work with 2-column layout)
\usepackage{footnote}
\usepackage{fnpct} % footnotes after punctuation

%\usepackage[small,bf,skip=5pt]{caption} % caption loaded in acl2020.sty
\captionsetup{labelfont=bf,skip=5pt}



%\usepackage{url}
%\usepackage{breakurl}


% colored frame box
\newcommand{\cfbox}[2]{%
    \colorlet{currentcolor}{.}%
    {\color{#1}%
    \fbox{\color{currentcolor}#2}}%
}

\usepackage[normalem]{ulem} % \uline
\usepackage{graphicx}
\usepackage{subcaption}
%\usepackage{tikz-dependency}
\usepackage{tikz}
\usepackage[edges]{forest}
%\usepackage{tree-dvips}
\usetikzlibrary{arrows,positioning,calc} 

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}


\usepackage{linguex}
\renewcommand{\firstrefdash}{} % don't put a hyphen between example number and subexample letter
%{\renewcommand{\theExRBr}{}\LLast}--{\renewcommand{\theExLBr}{}\Last} % put range inside parentheses
\renewcommand{\resetExdefaults}{%
    \setlength{\Exlabelsep}{.25em}% was 1.3em, way too wide
    \setlength{\Extopsep}{.66\baselineskip}%
    \setlength{\SubSubExleftmargin}{1.9em}% was 2.4em, too wide
    \setlength{\SubExleftmargin}{1.5em}% was 2em, too wide
    \setlength{\Exindent}{0pt}%
    \setlength{\Exlabelwidth}{4em}%
    \setlength{\alignSubExnegindent}{\Exlabelsep}%
    \ifalignSubEx\addtolength{\Exlabelsep}{.7em}%
    \addtolength{\alignSubExnegindent}{.7em}\fi
    \setlength{\Exredux}{-\baselineskip}%
}


% let cleveref settings below handle parentheses in cross-references
\renewcommand{\theExLBr}{}
\renewcommand{\theExRBr}{}
\renewcommand{\theFnExLBr}{}
\renewcommand{\theFnExRBr}{}

\usepackage{nameref}
\usepackage{cleveref}


% use \S for all references to all kinds of sections, and \P to paragraphs
% (sadly, we cannot use the simpler \crefname{} macro because it would insert a space after the symbol)
\crefformat{section}{\S#2#1#3}
\crefformat{subsection}{\S#2#1#3}
\crefformat{subsubsection}{\S#2#1#3}
\crefformat{paragraph}{\P#2#1#3}
\crefformat{subparagraph}{\P#2#1#3}
%\crefmultiformat{part}{\S#2#1#3}{ and~\S#2#1#3}{, \S#2#1#3}{, and~\S#2#1#3}
%\crefmultiformat{chapter}{\S#2#1#3}{ and~\S#2#1#3}{, \S#2#1#3}{, and~\S#2#1#3}
\crefmultiformat{section}{\S#2#1#3}{ and~\S#2#1#3}{, \S#2#1#3}{, and~\S#2#1#3}
\crefmultiformat{subsection}{\S#2#1#3}{ and~\S#2#1#3}{, \S#2#1#3}{, and~\S#2#1#3}
\crefmultiformat{subsubsection}{\S#2#1#3}{ and~\S#2#1#3}{, \S#2#1#3}{, and~\S#2#1#3}
\crefmultiformat{paragraph}{\P\P#2#1#3}{ and~#2#1#3}{, #2#1#3}{, and~#2#1#3}
\crefmultiformat{subparagraph}{\P\P#2#1#3}{ and~#2#1#3}{, #2#1#3}{, and~#2#1#3}
%\crefrangeformat{part}{\mbox{\S\S#3#1#4--#5#2#6}}
%\crefrangeformat{chapter}{\mbox{\S\S#3#1#4--#5#2#6}}
\crefrangeformat{section}{\mbox{\S\S#3#1#4--#5#2#6}}
\crefrangeformat{subsection}{\mbox{\S\S#3#1#4--#5#2#6}}
\crefrangeformat{subsubsection}{\mbox{\S\S#3#1#4--#5#2#6}}
\crefrangeformat{paragraph}{\mbox{\P\P#3#1#4--#5#2#6}}
\crefrangeformat{subparagraph}{\mbox{\P\P#3#1#4--#5#2#6}}
% for \label[appsec]{...}
\crefname{part}{Part}{Parts}
\Crefname{part}{Part}{Parts}
\crefname{chapter}{ch.}{ch.}
\Crefname{chapter}{Ch.}{Ch.}
\crefname{footnote}{fn.}{fn.}
\Crefname{footnote}{Fn.}{Fn.}
\crefname{figure}{figure}{figures}
\crefname{subfigure}{figure}{figures}
\Crefname{subfigure}{Figure}{Figures}
\crefname{appsec}{appendix}{appendices}
\Crefname{appsec}{Appendix}{Appendices}
\crefname{algocf}{algorithm}{algorithms}
\Crefname{algocf}{Algorithm}{Algorithms}

% linguex
\crefname{ExNo}{example}{examples}
\Crefname{ExNo}{Example}{Examples}
\crefname{SubExNo}{example}{examples}
\Crefname{SubExNo}{Example}{Examples}
\crefname{SubSubExNo}{example}{examples}
\Crefname{SubSubExNo}{Example}{Examples}
\crefformat{ExNo}{(#2#1#3)}
\crefformat{SubExNo}{(#2#1#3)}
\crefformat{SubSubExNo}{(#2#1#3)}
\crefrangeformat{ExNo}{\mbox{(#3#1#4--#5#2#6)}}
\crefrangeformat{SubExNo}{\mbox{(#3#1#4--#5#2#6)}}
\crefrangeformat{SubSubExNo}{\mbox{(#3#1#4--#5#2#6)}}
\crefmultiformat{ExNo}{(#2#1#3}{, #2#1#3)}{, #2#1#3}{, #2#1#3)}
\crefmultiformat{SubExNo}{(#2#1#3}{, #2#1#3)}{, #2#1#3}{, #2#1#3)}
\crefmultiformat{SubSubExNo}{(#2#1#3}{, #2#1#3)}{, #2#1#3}{, #2#1#3)}
\crefrangemultiformat{ExNo}{(#3#1#4--#5#2#6}{, #3#1#4--#5#2#6)}{, #3#1#4--#5#2#6}{, #3#1#4--#5#2#6)}
\crefrangemultiformat{SubExNo}{(#3#1#4--#5#2#6}{, #3#1#4--#5#2#6)}{, #3#1#4--#5#2#6}{, #3#1#4--#5#2#6)}
\crefrangemultiformat{SubSubExNo}{(#3#1#4--#5#2#6}{, #3#1#4--#5#2#6)}{, #3#1#4--#5#2#6}{, #3#1#4--#5#2#6)}

%%%%% OLD - gb4e was similar but: xnumi, xnumii

%%%%% OLD - I think for lingmacros
%\usepackage{lingmacros}
%\newcommand{\exref}[1]{(\ref{#1})} % numbered example
%\crefname{enums,enumsi}{example}{examples}
%\Crefname{enums,enumsi}{Example}{Examples}
%\crefname{}{example}{examples} % lingmacros \toplabel has no internal name for the kind of label
%\Crefname{}{Example}{Examples}
%\crefformat{enums}{(#2#1#3)}
%\crefformat{enumsi}{(#2#1#3)}
%\crefrangeformat{enums}{\mbox{(#3#1#4--#5#2#6)}}
%\crefrangeformat{enums}{\mbox{(#3#1#4--#5#2#6)}}
%\crefrangeformat{enumsi}{\mbox{(#3#1#4--#5#2#6)}}
%\crefmultiformat{enumsi}{(#2#1#3}{, #2#1#3)}{, #2#1#3}{, #2#1#3)}
%\crefrangemultiformat{enumsi}{(#3#1#4--#5#2#6}{, #3#1#4--#5#2#6)}{, #3#1#4--#5#2#6}{, #3#1#4--#5#2#6)}
%\crefformat{}{(#2#1#3)}









\ifx\creflastconjunction\undefined%
\newcommand{\creflastconjunction}{, and\nobreakspace} % Oxford comma for lists
\else%
\renewcommand{\creflastconjunction}{, and\nobreakspace} % Oxford comma for lists
\fi%

\newcommand*{\Fullref}[1]{\hyperref[{#1}]{\Cref*{#1}: \nameref*{#1}}}
\newcommand*{\fullref}[1]{\hyperref[{#1}]{\cref*{#1}: \nameref{#1}}}
\newcommand{\fnref}[1]{fn.~\ref{#1}} % don't use \cref{} due to bug in (now out-of-date) cleveref package w.r.t. footnotes
\newcommand{\Fnref}[1]{Fn.~\ref{#1}}

%\captionsetup[subfigure]{labelformat=simple}
%\renewcommand\thesubfigure{(\alph{subfigure})}


\newcommand{\backtick}[0]{\textasciigrave}


\NewDocumentEnvironment{itmize}{}{\begin{itemize}[noitemsep]}{\end{itemize}}
\NewDocumentEnvironment{enumrate}{}{\begin{enumerate}[noitemsep]}{\end{enumerate}}
\let\Item\item
\renewcommand\enddescription{\endlist\global\let\item\Item}
\NewDocumentEnvironment{describe}{}{\renewcommand\item[1][]{\Item \textbf{##1:} }\begin{itemize}[\null,leftmargin=0em]}{\end{itemize}} % leftmargin=1em,itemindent=-1em to dedent the heading
\NewDocumentEnvironment{edescribe}{}{\renewcommand\item[1][]{\Item \textbf{##1:} }\begin{enumerate}}{\end{enumerate}}



%\usepackage{color}
%\usepackage[table]{xcolor}  % xcolor is loaded in acl2020.sty
\newcommand\bmmax{0} % magic to avoid 'too many math alphabets' error
\usepackage{bm}

\definecolor{orange}{rgb}{1,0.5,0}
\definecolor{mdred}{rgb}{0.7,0,0}
\definecolor{mdgreen}{rgb}{0.05,0.6,0.05}
\definecolor{mdblue}{rgb}{0,0,0.7}
\definecolor{dkblue}{rgb}{0,0,0.5}
\definecolor{dkgray}{rgb}{0.3,0.3,0.3}
\definecolor{slate}{rgb}{0.25,0.25,0.4}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{ltgray}{rgb}{0.7,0.7,0.7}
\definecolor{purple}{rgb}{0.7,0,1.0}
\definecolor{lavender}{rgb}{0.65,0.55,1.0}

% Settings for algorithm listings
\lstset{
  upquote=true,
  showstringspaces=false,
  formfeed=\newpage,
  tabsize=1,
  commentstyle=\itshape\color{lavender},
  basicstyle=\normalsize\smaller[0.5]\ttfamily,
  keywordstyle=\bfseries\color{magenta},
  emph={upward,downward,tc},
  emphstyle=\underbar,
  aboveskip=1ex plus .25ex minus .25ex,
  belowskip=1ex plus .25ex minus .25ex,
  xleftmargin=1em,
  xrightmargin=1em
}
% Per http://tex.stackexchange.com/questions/73912/python-as-keyword-ignored-in-listings
\lstnewenvironment{Python}[1][]
  {\lstset{language=Python,
           morekeywords=as,
           #1}%
  }
  {}
  
\lstnewenvironment{Output}[1][]
  {\lstset{#1}%
  }
  {}
\renewcommand{\lstlistingname}{Algorithm}


\newcommand{\ensuretext}[1]{#1}

% Author comments
\newcommand{\nertcomment}[4]{\ensuretext{\textcolor{#3}{[\ensuretext{\textcolor{#3}{\ensuremath{^{\textsc{#1}}_{\textsc{#2}}}}} #4]}}}
%\renewcommand{\nertcomment}[4]{\unskip}
\newcommand{\nss}[1]{\nertcomment{NS}{S}{magenta}{#1}}
\newcommand{\mk}[1]{\nertcomment{M}{K}{red}{#1}}
\newcommand{\sw}[1]{\nertcomment{S}{W}{orange}{#1}}
\newcommand{\bs}[1]{\nertcomment{B}{S}{mdgreen}{#1}}
\newcommand{\esm}[1]{\nertcomment{E}{M}{purple}{#1}}
\newcommand{\jp}[1]{\nertcomment{J}{P}{blue}{#1}}
\newcommand{\ajb}[1]{\nertcomment{AJ}{B}{mdblue}{#1}}
\newcommand{\lsp}[1]{\nertcomment{S}{P}{brown}{#1}}


\newcommand{\overbar}[1]{\mkern 1.5mu\overline{\mkern-1.5mu#1\mkern-1.5mu}\mkern 1.5mu} % \bar is too narrow in math

% Boxed number (command borrowed from an HPSG document)
\newcommand{\svar}[1]
   {\setbox2=\hbox{$\scriptstyle #1$}\lower.2ex\vbox{\hrule
     \hbox{\vrule\kern1.25pt 
     \vbox{\kern1.25pt\box2\kern1.25pt}\kern1.25pt\vrule}\hrule}}
% gray bg variant
\newcommand{\SVAR}[1]
   {\setbox2=\hbox{$\scriptstyle #1$}\lower.2ex\vbox{\hrule
     \hbox{\bgroup\fboxsep=0pt\colorbox{ltgray}{\vrule\kern1.25pt 
     \vbox{\kern1.25pt\box2\kern1.25pt}\kern1.25pt\vrule}\egroup}\hrule}}



\newcommand{\term}[1]{\textbf{#1}} % term being defined

\newcommand{\citeposs}[2][]{\citeauthor{#2}'s (\citeyear[#1]{#2})}
\newcommand{\Citeposs}[2][]{\Citeauthor{#2}'s (\citeyear[#1]{#2})}

% Space savers - uncomment/adjust if needed, ensure nothing overlaps
% % From http://www.eng.cam.ac.uk/help/tpl/textprocessing/squeeze.html
% \addtolength{\textfloatsep}{-.3cm} % space between last top float or first bottom float and the text.
% %\addtolength{\intextsep}{-1cm} % space left on top and bottom of an in-text float.
% \addtolength{\abovedisplayskip}{-1cm} % space before maths
% \addtolength{\belowdisplayskip}{-1cm} % space after maths
% %\addtolength{\topsep}{-.5cm} %space between first item and preceding paragraph
% \setlength{\belowcaptionskip}{-.15cm}
% \setlength{\intextsep}{0pt plus 2pt}   % default value 12pt plus 2pt minus 2pt


% customize \paragraph spacing
\makeatletter
\renewcommand{\paragraph}{%
  \@startsection{paragraph}{4}%
  {\z@}{.2ex \@plus 1ex \@minus .2ex}{-1em}%
  {\normalfont\normalsize\bfseries}%
}
\makeatother



% Special macros
\newcommand{\w}[1]{\textit{#1}}	% word
\newcommand{\p}[1]{\textbf{\textsf{#1}}} % preposition type
\newcommand{\lbl}[1]{\textsc{#1}} % class label
\newcommand{\sst}[1]{\lbl{#1}} % supersense tag label
\newcommand{\nsst}[1]{\sst{n:#1}} % noun supersense tag label
\newcommand{\vsst}[1]{\sst{v:#1}} % verb supersense tag label
\newcommand{\psst}[1]{\textcolor{mdgreen}{\sst{#1}}} % preposition supersense tag label
\newcommand{\olbl}[1]{\textcolor{purple}{\textrm{#1}}} % other label: `i, `d, etc.
%\newcommand{\nsst}[1]{\sst{#1~\textroundcap{\vphantom{-}}~}} % noun supersense tag label
%\newcommand{\vsst}[1]{\sst{#1\raisebox{-1.5pt}{\textasciicaron}}} % verb supersense tag label
%\newcommand{\psst}[1]{\sst{#1\raisebox{2pt}{\rotatebox{180}{\textsublhalfring{\phantom{.}}}}}} %\textcorner % preposition supersense tag label

\newcommand{\rf}[2]{\psst{#1}$\leadsto$\psst{#2}}
\newcommand{\rff}[3]{\psst{#1}$\leadsto$\psst{#2}$\leadsto$\psst{#3}}


\newcommand{\tg}[1]{\texttt{#1}}	% supersense tag name
 \newcommand{\tagdef}[1]{#1\hfill} % tag definition
\newcommand{\tagt}[2]{\ensuremath{\underset{\textrm{\textlarger{\tg{#2}}}\strut}{\w{#1}\rule[-.3\baselineskip]{0pt}{0pt}}}} % tag text (a word or phrase) with an SST. (second arg is the tag)
\newcommand{\glosst}[2]{\ensuremath{\underset{\textrm{#2}}{\textrm{#1}}}} % gloss text (a word or phrase) (second arg is the gloss)
\newcommand{\AnnA}[0]{\mbox{\textbf{Ann-A}}} % annotator A
\newcommand{\AnnB}[0]{\mbox{\textbf{Ann-B}}} % annotator B
\newcommand{\sys}[1]{\mbox{\textbf{#1}}}   % name of a system (one of our experimental conditions)
\newcommand{\dataset}[1]{\mbox{\textsc{#1}}}	% one of the datasets in our experiments
\newcommand{\datasplit}[1]{\mbox{\textbf{#1}}}	% portion one of the datasets in our experiments

\newcommand{\fnf}[1]{\textsc{\textsf{#1}}} % FrameNet frame
\newcommand{\fnr}[1]{\textbf{\textsf{#1}}} % FrameNet role (frame element name)
\newcommand{\fnrel}[1]{\textsl{#1}} % FrameNet frame relation type
\newcommand{\fnst}[1]{\textsl{#1}} % FrameNet semantic type
\newcommand{\fnlu}[1]{\textsf{#1}} % FrameNet lexical unit (predicate)
\newcommand{\pbf}[1]{\mbox{\textsf{#1}}} % PropBank frame (roleset)
\newcommand{\pbr}[1]{\textbf{\textsf{#1}}} % PropBank role (numbered or modifier argument label)
\newcommand{\vpred}[1]{\textbf{#1}} % verb predicate


%\newcommand{\lex}[1]{\textsmaller{\textsf{\textcolor{slate}{\textbf{#1}}}}}	% example lexical item
\newcommand{\lex}[1]{\textit{#1}} % lexical item/lexical example
\newcommand{\pex}[1]{\textit{#1}} % phrasal example - don't index by default

%\newcommand{\w}[1]{\textit{#1}}	% word
\newcommand{\gap}[0]{\ \ } % space around gap contents
\newcommand{\tat}[0]{\textasciitilde}

% PAPER LIFECYCLE CONTROLS
\newcommand{\draftversion}[1]{} % for the draft version only
\newcommand{\subversion}[1]{#1} % for the submission version only
%\newcommand{\subversion}[1]{}
%\newcommand{\finalversion}[1]{#1}
\newcommand{\finalversion}[1]{}

\newcommand{\shortlong}[2]{#1} % short vs. long version of the paper
\newcommand{\shortversion}[1]{}
\newcommand{\considercutting}[1]{#1}
%\newcommand{\longversion}[1]{#1}
\newcommand{\longversion}[1]{} % ...if only there were more space...
\newcommand{\anonversion}[1]{#1} % for the anonymized version only
\newcommand{\nonanonversion}[1]{} % for non-anonymized versions only


\newcommand\blfootnote[1]{%
 \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
   \addtocounter{footnote}{-1}%
 \endgroup
}


%%%%%%%%%% HYPHENATION

\hyphenation{WordNet}
\hyphenation{WordNets}
\hyphenation{FrameNet}
\hyphenation{SemCor}
\hyphenation{SemEval}
\hyphenation{ParsedSemCor}
\hyphenation{VerbNet}
\hyphenation{PennConverter}
\hyphenation{an-aly-sis}
\hyphenation{an-aly-ses}
\hyphenation{base-line}
\hyphenation{comb-over}
\hyphenation{de-ve-lop-ed}
\hyphenation{mono-claus-al}
\hyphenation{mono-mor-phem-ic}
\hyphenation{news-text}
\hyphenation{nomi-nal}
\hyphenation{per-cept}
\hyphenation{per-cepts}
\hyphenation{post-edit-ing}
\hyphenation{shriv-eled}
\hyphenation{Huddle-ston}
\hyphenation{par-ti-ci-pant}
\hyphenation{par-ti-ci-pants}
\hyphenation{par-ti-ci-pa-tion}



\endinput
%%
%% End of file `nert.sty'.